# Project Overview

HyperData is a community-driven data repository and static site generator dedicated to tracking Xiaomi HyperOS and MIUI ROM updates. It serves as a central hub for device information, ROM download links (Recovery/Fastboot), and update history across various regions (China, Global, EEA, Taiwan, etc.).

The project structure consists of raw JSON data files defining device hierarchies and ROM versions, Python scripts for processing this data and generating static HTML/JSON outputs, and a frontend interface hosted via GitHub Pages.

# Architecture

*   **Data Layer (`devices/`):** The core truth of the project. Each JSON file (e.g., `fuxi.json`) represents a specific device model, containing metadata (names, codes) and a structured list of ROM branches and versions.
*   **Generation Layer (`scripts/`, root):** Python scripts responsible for:
    *   Parsing device JSONs.
    *   Generating specific views (e.g., `generate_tw_focus.py` for `tw.html`).
    *   Updating index files (`scripts/index.py`).
    *   Validating data integrity.
*   **Frontend Layer:** Static HTML files (`index.html`, `tw.html`) that consume the generated data or are directly generated by the scripts.
*   **Automation:** GitHub Actions (`.github/workflows`) are used to schedule updates and deploy changes.

# Key Files & Directories

*   `devices/`: Contains JSON files for each device (e.g., `fuxi.json`). This is where new ROMs are added.
*   `generate_tw_focus.py`: A root-level script that generates the `tw.html` page, focusing on Taiwan region updates.
*   `scripts/`: Contains utility scripts for maintenance and generation:
    *   `index.py`: Generates the main index data and handles git commits for the `public/data` directory.
    *   `OScommon.py`: Shared logic for version comparison and data handling.
    *   `requirement.txt`: Python dependencies.
*   `tw.html`: The generated HTML page for Taiwan ROM tracking.
*   `index.html`: The main entry point for the website.
*   `dev.json`, `index.json`: Aggregated data files used by the frontend.

# Building and Running

The project relies on Python for its build process.

**Prerequisites:**
*   Python 3.x
*   Install dependencies: `pip install -r scripts/requirement.txt`

**Common Tasks:**

1.  **Generate Taiwan Focus Page:**
    ```bash
    python generate_tw_focus.py
    ```
    *   *Note:* This script reads from `devices/*.json` and outputs `tw.html`.

2.  **Update Index & Push Data:**
    ```bash
    cd scripts
    python index.py
    ```
    *   *Note:* This script appears to handle git operations internally for the `public/data` directory. Use with caution in a local environment.

3.  **Adding a New ROM:**
    *   Locate the relevant device file in `devices/` (e.g., `devices/fuxi.json`).
    *   Add the new ROM entry under the correct branch (e.g., `fuxi_global` -> `roms`).
    *   Ensure strict JSON formatting.

# Development Conventions

*   **Data Integrity:** JSON files in `devices/` must maintain specific structure. Keys like `os`, `android`, `release`, `recovery`, and `fastboot` are mandatory for ROM entries.
*   **Naming:** Device codenames (e.g., `fuxi`, `nuwa`) are used as file names and identifiers.
*   **Versioning:** ROM versions (e.g., `OS1.0.1.0.UMCMIXM`) are parsed to determine region and update order.
*   **Localization:** The project uses `zh` (Chinese) and `en` (English) keys for names.

# Important Notes

*   **Static Generation:** `tw.html` is a generated file. **Do not edit `tw.html` directly** if you want changes to persist. Modify `generate_tw_focus.py` instead.
*   **Submodules:** The project seems to interact with a `public/data` directory which might be a git submodule or a separate repository structure managed by `index.py`.
